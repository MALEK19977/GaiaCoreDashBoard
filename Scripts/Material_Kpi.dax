Material_KPIs = 
VAR CurrentMaterial = SELECTEDVALUE(dim_materials[Material_Name])
VAR CO2_Limit = 450 
VAR Water_Limit = 1500
VAR HasData = NOT(ISBLANK(CALCULATE(
    COUNTROWS(fact_performance_environmental),
    FILTER(
        fact_performance_environmental,
        RELATED(dim_materials[Material_Name]) = CurrentMaterial
    )
)))

RETURN
IF(
    ISBLANK(CurrentMaterial),
    "Please select a material from the list",
    IF(
        HasData,
        CONCATENATEX(
            FILTER(
                fact_performance_environmental,
                RELATED(dim_materials[Material_Name]) = CurrentMaterial
            ),
            "üìå Material: " & CurrentMaterial & UNICHAR(10) & UNICHAR(10) &
            "üåç Carbon Footprint: " & [Carbon_Footprint_per_Unit_kgCO2e] & " kg CO‚ÇÇe" & 
                IF([Carbon_Footprint_per_Unit_kgCO2e] > CO2_Limit, 
                   " ‚ùå (Above limit)", 
                   " ‚úÖ (Within limits)") & UNICHAR(10) &
            "üíß Water Consumption: " & [Water_Consumption_per_Unit_liters] & " liters" &
                IF([Water_Consumption_per_Unit_liters] > Water_Limit, 
                   " ‚ùå (Above limit)", 
                   " ‚úÖ (Within limits)") & UNICHAR(10) &
            "üöö Transport Distance: " & [Transport_Distance_km] & " km" & UNICHAR(10) &
            "----------------------------------------",
            UNICHAR(10) & UNICHAR(10)  // Double line break between entries
        ),
        "Material '" & CurrentMaterial & "' is in good standing ‚úÖ" & UNICHAR(10) & UNICHAR(10) &
        "All environmental metrics are within acceptable limits:" & UNICHAR(10) &
        "‚Ä¢ Carbon Footprint < " & CO2_Limit & " kg CO‚ÇÇe" & UNICHAR(10) &
        "‚Ä¢ Water Consumption < " & Water_Limit & " liters"
    )
)